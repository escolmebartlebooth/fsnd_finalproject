function locationmodel(o){var n=this;n.name=o.name,n.ground=o.ground,n.location=o.location,n.marker=new google.maps.Marker({position:{lat:n.location.lat,lng:n.location.lng},icon:icons.locationnormal,map:map,title:n.name+" "+n.ground}),n.selected=function(){null===n.marker.getAnimation()?(n.marker.setAnimation(google.maps.Animation.BOUNCE),n.marker.icon=icons.locationselected):(n.marker.setAnimation(null),n.marker.icon=icons.locationnormal)},n.markerClick=function(){n.selected()},n.marker.addListener("click",n.markerClick)}function locationsVM(){var o=this;o.isOpen=ko.observable(!1),o.toggle=function(){o.isOpen(!o.isOpen())},o.locations=ko.observableArray([]);var n,a=[],i=new google.maps.LatLngBounds;locationdata.forEach(function(o){n=new locationmodel(o),a.push(n),i.extend(n.marker.position)}),o.locations(a),map.fitBounds(i)}function initMap(){map=new google.maps.Map(document.getElementById("map"),{zoom:12,center:initialCenter,disableDefaultUI:!0}),ko.applyBindings(new locationsVM)}var map,initialCenter={lat:53.817265,lng:-1.5848782},iconroot="http://maps.google.com/mapfiles/ms/icons/",icons={locationselected:iconroot+"ylw-pushpin.png",locationnormal:iconroot+"red-pushpin.png"};